extends ../layout.pug

block title
	+title('All Users')

block content
	div.page-header.d-flex.justify-content-between.align-items-center
		h1 All Users
		a.btn.btn-primary(href='/admin/users/add') Add User

	div.table-responsive
		table.table.table-hover
			thead
				tr
					th Username
					th Email
					th Name
					th Admin
					th Actions
			tbody
				each user in users
					tr
						td #{user.username}
						td #{user.email}
						td #{user.name.first} #{user.name.last}
							if user.name.nick && user.name.nick != user.name.first
								span.text-muted  (#{user.name.nick})
						td
							if user.admin
								span.badge.badge-admin Admin
						td
							a.btn.btn-sm.btn-outline-secondary(href='/admin/users/edit/' + user._id) Edit
							form.d-inline.ml-1(action='/admin/pretend/' + user.username method='POST')
								button.btn.btn-sm.btn-outline-info(type='submit') Pretend
